
# GA Churn Predictor ‚Äî CatBoost API + UI

–ù–µ–±–æ–ª—å—à–æ–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:

1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç **—Å—ã—Ä—ã–µ** –ª–æ–≥–∏ Google Analytics (`ga_sessions.csv` –∏ `ga_hits.csv`);
2. –ü—Ä–æ–≥–æ–Ω—è–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ **—Ç–æ—Ç –∂–µ** –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏;
3. –í—ã–¥–∞—ë—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø–æ—Å—á–∏—Ç–∞–Ω–Ω—É—é –≥–æ—Ç–æ–≤–æ–π –º–æ–¥–µ–ª—å—é **CatBoost**.

–†–∞–±–æ—Ç–∞–µ—Ç –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏ ‚Äî —á–µ—Ä–µ–∑ REST‚Äë—ç–Ω–¥–ø–æ–π–Ω—Ç `/predict` **–∏** —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `/ui`.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
.
‚îú‚îÄ Dockerfile                # —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑
‚îú‚îÄ docker-compose.yml        # —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ main.py                   # FastAPI + Gradio UI
‚îú‚îÄ preprocessing_script.py   # –ø–∞–π–ø–ª–∞–π–Ω —Ñ–∏—á–µ–π
‚îú‚îÄ inference.py              # –∑–∞–≥—Ä—É–∑–∫–∞ CatBoost –∏ predict
‚îú‚îÄ models/
‚îÇ   ‚îî‚îÄ catboost_model.cbm    # –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îú‚îÄ samples/
‚îÇ   ‚îú‚îÄ make_samples.py       # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–∏–Ω–∏‚Äë–¥–∞—Ç–∞—Å–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ sessions_sample.csv   # 20 —Å–µ—Å—Å–∏–π
‚îÇ   ‚îú‚îÄ hits_sample.csv       # 20 —Ö–∏—Ç–æ–≤
‚îÇ   ‚îî‚îÄ sample_record.json    # –ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏
‚îî‚îÄ README.md
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç


| –ß—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è | URL |
|-----------------|-----|
| Swagger (REST)  | http://127.0.0.1:8000/docs |
| –í–µ–±‚ÄëUI          | http://127.0.0.1:8000/ui |

---

## üß™ –¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

### Swagger

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/docs`.
2. **POST¬†/predict** ‚Üí **Try it out**.
3. –í—ã–±–µ—Ä–∏—Ç–µ `samples/sessions_sample.csv` –∏ `samples/hits_sample.csv`.
4. **Execute** ‚Äî –ø–æ–ª—É—á–∏—Ç–µ JSON‚Äë–æ—Ç–≤–µ—Ç.

### cURL

```bash
curl -X POST http://127.0.0.1:8000/predict      -F ga_sessions=@samples/sessions_sample.csv      -F ga_hits=@samples/hits_sample.csv
```

---

## üñ• –í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `/ui`

| –í–∫–ª–∞–¥–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **Single JSON** | –í—Å—Ç–∞–≤—å—Ç–µ JSON –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ (—Å–º. `samples/sample_record.json`) ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å. |
| **Batch CSV**   | –ó–∞–≥—Ä—É–∑–∏—Ç–µ **–¥–≤–∞** —Ñ–∞–π–ª–∞ (`sessions`, `hits`) ‚Üí —Ç–∞–±–ª–∏—Ü–∞ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏. |

---

## FAQ

| –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç |
|--------|-------|
| **–ù–µ –≤—Å–µ —Ñ–∏—á–∏ —É–∫–∞–∑–∞–ª** | –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. |
| **–ü–æ—Ä–æ–≥ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏?** | API –≤—ã–¥–∞—ë—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å; –ø–æ—Ä–æ–≥ –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Å–∞–º–∏–º. |
| **–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å?** | –ó–∞–º–µ–Ω–∏—Ç–µ `models/catboost_model.cbm` –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑. |

Enjoy¬†üéâ
